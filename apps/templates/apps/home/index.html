{% extends "apps/layouts/main.html" %}
{% load static %}

{% block content %}

    <div class="row">
        <div class="col">
            <div class="card radius-10 border-0 border-start border-primary border-3">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-primary text-white">
                        <i class="bi bi-file-person"></i>
                    </div>
                    <h3 class="text-primary">{{donors_count}}</h3>
                    {% if donors_count == 1 %}
                        <p class="mb-0 text-primary">Donneur Inscrit</p>
                    {% else %}
                        <p class="mb-0 text-primary">Donneurs Inscrits</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 border-0 border-start border-success border-3">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-success text-white">
                        <i class="bi bi-file-person"></i>
                    </div>
                    <h3 class="text-success">{{eligible_donors}}</h3>
                    {% if eligible_donors == 1 %}
                        <p class="mb-0 text-success">Donneur Eligible au Don</p>
                    {% else %}
                        <p class="mb-0 text-success">Donneurs Eligibles au Don</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 border-0 border-start border-danger border-3">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-danger text-white">
                        <i class="bi bi-file-person"></i>
                    </div>
                    <h3 class="text-danger">{{ineligible_donors}}</h3>
                    {% if ineligible_donors == 1 %}
                        <p class="mb-0 text-danger">Donneur Ineligible au Don</p>
                    {% else %}
                        <p class="mb-0 text-danger">Donneurs Ineligibles au Don</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 border-0 border-start border-secondary border-3">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-secondary text-white">
                        <i class="bi bi-file-person"></i>
                    </div>
                    <h3 class="text-secondary">{{pending_donors}}</h3>
                    {% if pending_donors == 1 %}
                        <p class="mb-0 text-secondary">Donneur En Evaluation</p>
                    {% else %}
                        <p class="mb-0 text-secondary">Donneurs En Evaluation</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="card radius-10 bg-primary">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-heart-pulse mt-2"></i>
                    </div>
                    <h3 class="text-white">{{bloods_count}}</h3>
                    {% if bloods_count == 1 %}
                        <p class="mb-0 text-white">Poche de Sang Total</p>
                    {% else %}
                        <p class="mb-0 text-white">Poches de Sang Total</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-success">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-heart-pulse mt-2"></i>
                    </div>
                    <h3 class="text-white">{{eligible_bloods}}</h3>
                    {% if eligible_bloods == 1 %}
                        <p class="mb-0 text-white">Poche Saine</p>
                    {% else %}
                        <p class="mb-0 text-white">Poches Saines</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-danger">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-heart-pulse mt-2"></i>
                    </div>
                    <h3 class="text-white">{{ineligible_bloods}}</h3>
                    {% if ineligible_bloods == 1 %}
                        <p class="mb-0 text-white">Poche Non Utilisable</p>
                    {% else %}
                        <p class="mb-0 text-white">Poches Non Utilisables</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-secondary">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-heart-pulse mt-2"></i>
                    </div>
                    <h3 class="text-white">{{pending_bloods}}</h3>
                    {% if pending_bloods == 1 %}
                        <p class="mb-0 text-white">Poche Entrain d'Etre Analysée</p>
                    {% else %}
                        <p class="mb-0 text-white">Poches Entrain d'Etre Analysée</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="row row-cols-1 row-cols-sm-3 row-cols-md-3 row-cols-xl-3 row-cols-xxl-6">
        <div class="col">
            <div class="card radius-10 border-0 border-start border-end border-danger border-3">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="">
                            <h4 class="mb-0 text-danger">{{gr_count}}</h4>
                            {% if gr_count == 1 %}
                                <p class="mb-1">Poche de Globules Rouges</p>
                            {% else %}
                                <p class="mb-1">Poches de Globules Rouges</p>
                            {% endif %}
                        </div>
                        <div class="ms-auto widget-icon bg-danger text-white">
                            <i class="bi bi-droplet-half"></i>
                        </div>
                    </div>
                    <div>
                        <a href="{% url "create_order"%}?of=gr" ><button class="btn btn-secondary">commander</button></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 border-0 border-start border-end border-secondary border-3">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="">
                            <h4 class="mb-0 text-secondary">{{pfc_count}}</h4>
                            {% if gr_count == 1 %}
                                <p class="mb-1">Poche de Plasma Frais Congelé</p>
                            {% else %}
                                <p class="mb-1">Poches de Plasma Frais Congelé</p>
                            {% endif %}
                        </div>
                        <div class="ms-auto widget-icon bg-secondary text-white">
                            <i class="bi bi-droplet-half"></i>
                        </div>
                    </div>
                </div>
                <a href="{% url "create_order"%}?of=pfc" ><button class="btn btn-secondary">commander</button></a>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 border-0 border-start border-end border-warning border-3">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="">
                            <h4 class="mb-0 text-warning">{{cps_count}}</h4>
                            {% if gr_count == 1 %}
                                <p class="mb-1">Poche de Concentré Plaquettaire</p>
                            {% else %}
                                <p class="mb-1">Poches de Concentré Plaquettaire</p>
                            {% endif %}
                        </div>
                        <div class="ms-auto widget-icon bg-warning text-white">
                            <i class="bi bi-droplet-half"></i>
                        </div>
                    </div>
                </div>
                <a href="{% url "create_order"%}?of=cps" ><button class="btn btn-secondary">commander</button></a>
            </div>
        </div>
    </div>
    <div class="row row-cols-1 row-cols-sm-4 row-cols-md-4 row-cols-xl-4 row-cols-xxl-8">
        {% for blood_group, count in bags_counts_items %}
            <div class="col">
                <div class="card radius-10 border-0 border-start border-pink border-3">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="widget-icon bg-pink text-white">
                                <span>{{blood_group}}</span>
                            </div>
                            <div class="ms-auto">
                                <h4 class="mb-0 text-pink">{{count}}</h4>
                                <p class="mb-1">Poches</p>
                            </div>
                        </div>
                        <hr class="my-2 border-top border-pink">
                        <small class="mb-0 text-pink"><span>+12.3% from last week</span></small>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    </div>



{% endblock %}
